C ECGCK.FOR- READS/TYPES ECG CHAN FROM BILL'S LOTUS FILE.      

	CHARACTER*1 INPFIL(64),OUTFIL(64)

	CHARACTER*64 INFIL

	COMMON/DATA/NCHAN,NECG,THRESH,FRAME(16)

	EQUIVALENCE (INPFIL,INFIL)

	ITI=5

2       WRITE(ITI,101)

101     FORMAT('$# CHANNELS IN INPUT FILE, # OF THE ECG CHANNEL? >'\)

	READ(ITI,*)NCHAN,NECG

71    WRITE(ITI,115)

115   FORMAT('$NAME OF EXTERNAL INPUT FILE? >'\)

	READ(ITI,120)INFIL

120     FORMAT(A)

	OPEN(UNIT=21,FILE=INFIL,STATUS='OLD',ERR=77)

	GO TO 75

77    WRITE(*,*)'CAN"T OPEN THIS FILE'

	GO TO 71

75    DO 72 K=1,23      

	READ(21,*,ERR=73,END=74)(FRAME(I),I=1,NCHAN)

701   FORMAT(16(A12))

	ECG=FRAME(NECG)

	WRITE(ITI,*)ECG

700   FORMAT(5X,A)

72    CONTINUE

	PAUSE ' <CR> FOR NEXT SCREEN'

	GO TO 75

73     PAUSE ' ERROR READING DATA'

74     CONTINUE

C EXIT ON DISCOVERY OF EOF/ERROR IN INPUT

90      CLOSE(UNIT=21)

501     STOP   'NORMAL EXIT'

	END



